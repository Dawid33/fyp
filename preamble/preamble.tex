\input{preamble/definitions}
\input{preamble/syntaxhighlighting}
\input{preamble/glossary}
\input{preamble/newcommands}

\newenvironment{longlisting}{\captionsetup{type=listing}}{}

\counterwithout{figure}{chapter}
\counterwithout{listing}{chapter}

\setcitestyle{citesep={;}}

\titleformat{\chapter}[hang] 
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter:}{0.5em}{} 

\hypersetup{colorlinks=true,linkcolor=blue,citecolor=blue}

\definecolor{darkgray}{rgb}{0.700, 0.700, 0.700}

\mdfdefinestyle{writersnote}{%
    linecolor=darkgray,linewidth=2pt,%
    topline=false,rightline=false,bottomline=false,%
    innertopmargin=2pt,
}

\mdfdefinestyle{roughwork}{%
    linecolor=lightgray,linewidth=2pt,%
    leftmargin=1cm,%
    topline=false,rightline=false,bottomline=false,%
    innertopmargin=2pt, frametitle=Rough Work,
}

\usetikzlibrary{calc,arrows}
\makeatletter
\mdf@do@stringoption{digressiontitle=={Section Plan}}
\tikzset{
  line/.style={%
      line width=2pt,
      draw=gray!40,
      rounded corners=2ex,
      },
   excursus head/.style={
      fill=white,
      font=\bfseries\sffamily,
      text=gray!80,
      anchor=base west,
  },
}
\mdfdefinestyle{sectionplanstyle}{%
   singleextra={%
            \path let \p1=(P), \p2=(O) in (\x2,\y1) coordinate (Q);
            \path let \p1=(Q), \p2=(O) in (\x1,{(\y1-\y2)/2}) coordinate (M);
            \path [line]
                        ($(O)+(\linewidth,0ex)$) -| (M) |- %
                        ($(Q)+(6em,0ex)$);%
            \node [excursus head] at ($(Q)+(2.5em,-0.75pt)$) {\mdf@digressiontitle};},
   middlelinewidth=2.5em,middlelinecolor=white,fontcolor=gray,%
   hidealllines=true,topline=true,
   innertopmargin=0ex,
   innerbottommargin=1.5ex,
   innerrightmargin=2pt,
   innerleftmargin=2ex,
   skipabove=0.87\baselineskip,
   skipbelow=0.62\baselineskip,
}
\makeatother

\newenvironment{code}
  {\begin{mdframed}[style=writeresnote]\small}
  {\end{mdframed} }
\newenvironment{roughwork}
  {\begin{mdframed}[style=roughwork]
      \small}
  {\end{mdframed}}
%frametitleaboveskip=\dimexprâˆ’\ht\strutbox\relax,

% page settings
% \setlength{\parindent}{5em}
\hbadness=10000
\hfuzz=50pt
